<!DOCTYPE html>
<!--  This site was created in Webflow. http://www.webflow.com  -->
<!--  Last Published: Fri Mar 01 2019 16:04:16 GMT+0000 (UTC)  -->
<html data-wf-page="5c6c61dd6ed9f258e030558a" data-wf-site="5c40d6f6fb42f681c8d2fe8c">

<head>
  <meta charset="utf-8">
  <title>Calendar</title>
  <meta content="Calendar" property="og:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/elston.webflow.css" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({ google: { families: ["Roboto Slab:100,300,regular"] } });</script>
  <script src="https://use.typekit.net/red4ilo.js" type="text/javascript"></script>
  <script type="text/javascript">try { Typekit.load(); } catch (e) { }</script>
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script
    type="text/javascript">!function (o, c) { var n = c.documentElement, t = " w-mod-"; n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch") }(window, document);</script>
  <link href="./images/favicon_1.png" rel="shortcut icon" type="image/x-icon">
  <link href="https://daks2k3a4ib2z.cloudfront.net/img/webclip.png" rel="apple-touch-icon">
  <style>
    .scroller {
      -webkit-overflow-scrolling: touch;
    }

    html {
      overflow: scroll;
      overflow-x: hidden;
    }

    ::-webkit-scrollbar {
      width: 0px;
      /* remove scrollbar space */
      background: transparent;
      /* optional: just make scrollbar invisible */
    }

    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style>
  <link rel="stylesheet" type="text/css" href="https://pixelsock.github.io/scripts/animate.css">
</head>

<body class="body">
  <div class="nav-section fixed">
    <div class="w-embed"><template>
        <div class="itemcontainer out-focus">
          <div id="eventItem" href="#" class="scroller-content-block w-inline-block">
            <h1 id="scroller-title" class="scroller-title"></h1>
            <div id="description" class="scroller-text-div out-focus">
              <div id="scroller-subtitle" class="scroller-subtitle"></div>
              <div class="scroller-description">
                <div id="locationName">Location Name</div>
                <div id="street">1310 S Tryon St. #110</div>
                <div id="cityStateZip">Charlotte, NC 28078</div>
                <div id="eventTime">3:00 - 3:30</div>
                <a id="eventLink" class="scroller-link" href="" target="_blank">Learn More</a>
              </div>
            </div>
          </div>
        </div>
      </template></div>
    <div class="w-embed">
      <style>
        .menu-button {
          transition: border-radius 300ms ease, border-color 300ms ease;
        }
      </style>
    </div>
    <div data-w-id="786bcc41-4bbd-94c7-602f-3167538492ce" style="opacity:0.7;display:none" class="page-overlay"></div>
    <div class="nav-container"><a href="index.html" class="w-inline-block"><img
          src="images/Elston_Primary_Logo_Reverse2x.png" width="170" alt="" class="image"></a>
      <div class="div-block">
        <div data-w-id="786bcc41-4bbd-94c7-602f-3167538492d1" class="menu-button">
          <div class="menu-items-block">
            <a data-w-id="786bcc41-4bbd-94c7-602f-3167538492da"
              style="-webkit-transform:translate3d(-100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(-100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(-100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(-100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);opacity:0;display:none"
              href="about-us.html" class="menu-item w-inline-block">
              <div>About Us</div>
            </a>
            <a data-w-id="786bcc41-4bbd-94c7-602f-3167538492e0"
              style="-webkit-transform:translate3d(-100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(-100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(-100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(-100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);opacity:0;display:none"
              href="social.html" class="menu-item w-inline-block">
              <div>Social</div>
            </a>
          </div>
          <div class="menu-lines-div">
            <div class="menu-line-1"></div>
            <div class="menu-line2"></div>
            <div class="menu-line3"></div>
          </div>
          <div
            style="-webkit-transform:translate3d(60PX, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(60PX, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(60PX, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(60PX, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);opacity:0;display:none"
            class="x-out">
            <div class="x-line-2"></div>
            <div class="x-line-1"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="scroller" class="scroller calendar">
    <div class="itemcontainer out-focus hide">
      <div class="scroller-content-block">
        <h1 id="scroller-title" class="scroller-title">01.24</h1>
        <div class="scroller-text-div">
          <div id="scroller-subtitle" class="scroller-subtitle">This is some text</div>
          <div class="scroller-description">
            <div id="scroller-description">This is some text inside of a div block.</div>
            <div id="scroller-description">This is some text inside of a div block.</div><a href="#"
              class="scroller-link">Text Link</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="footer fixed">
    <div class="site-container foot">
      <div class="footer-text-div w-clearfix"><a
          href="mailto:info@shopelston.com?subject=Inquiry%20from%20shopelston.com" target="_blank"
          class="footer-link">Contact Us</a><a href="#" target="_blank" class="footer-link">Terms of Use</a><a href="#"
          target="_blank" class="footer-link">Privacy &amp; Cookies</a>
        <div class="copywright">Â©2019 Elston Shoe Co.</div>
      </div>
    </div>
  </div>
  <script src="https://d1tdp7z6w94jbb.cloudfront.net/js/jquery-3.3.1.min.js" type="text/javascript"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.14.2/TweenMax.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.3/ScrollMagic.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.3/plugins/animation.gsap.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.3/plugins/debug.addIndicators.js"></script>
  <script src="https://d79i1fxsrar4t.cloudfront.net/sdk/1.1.3/smartystreets-sdk-1.1.3.js"></script>

  <script>
    function httpGet(theUrl) {
      var xmlHttp = new XMLHttpRequest();
      xmlHttp.open("GET", theUrl, false); // false for synchronous request
      xmlHttp.send(null);
      return xmlHttp.responseText;
    }
    window.fbAsyncInit = function () {
      FB.init({
        appId: '225520310948648',
        autoLogAppEvents: true,
        xfbml: false,
        version: 'v4.0'
      });

      function init() {

        FB.api(
          '/shopelston/events',
          'GET',
          {
            "access_token": "EAADNHAoGEygBAHqBaFRZA5mj3doHxxdnxpaln5CsD8ZAdE5uXlNDplZCKoyxjA0ygvJYxorS4GuyLIIXGHibVxYsntrdP7SsqgPTDpcTczBoQVDWWau6CBFuzT6qficf8IpUTnefHjTJ56MuM1klzMohXwErjrDkTU3VXCAmyMC4SlZBDRjd65oJvPOJo2Cn35Y3wGioIa1AbuGMu3xS",
            "fields": "name,description,end_time,start_time,place{name,location{city,state,street,zip}}",
            "limit": 10,
            "since": 1546300800,
          },
          function (response) {
            $res = response.data;
            var smallData = $res.map(function (d, i) {
              var test = d.place.name.split(", ").join('+');
              var geoUrl = `https://maps.googleapis.com/maps/api/geocode/json?address=${test}&key=AIzaSyDiXQPfyj47BHkymbwDL_bIl9WMW6vB5-U`;
              var geoCode = JSON.parse(httpGet(geoUrl))
              var googleAddress = geoCode.results[0].address_components;
              var mapedArrs = googleAddress.map(function (d, i) {

                return {
                  [d.types[0]]: d.short_name
                }
              });
              var maped = {};
              for (item of mapedArrs) {
                Object.assign(maped, item)
              };
              let t = $('template');
              let time = { 'hour': '2-digit', 'minute': '2-digit' };
              let optionsMonth = ([], { 'month': '2-digit' });
              let optionsDay = ([], { 'day': '2-digit' });
              let datestr = d.start_time.split(/[-T.]/);
              let date = new Date(datestr.slice(0, 3).join('/') + ' ' + datestr[3]);
              var locationName = d.place.name;

              if (d.place.location) {
                return {
                  name: d.name,
                  eventLink: `https://fb.com/events/${d.id}`,
                  endTime: new Date(d.end_time).toLocaleString('en-US', time),
                  month: date.toLocaleDateString('en-US', optionsMonth),
                  day: date.toLocaleDateString('en-US', optionsDay),
                  desription: d.description,
                  startTime: date.toLocaleString('en-US', time),
                  locationName: locationName,
                  city: d.place.location.city,
                  state: d.place.location.state,
                  zip: d.place.location.zip,
                  street: d.place.location.street,
                }

              } else {
                return {
                  name: d.name,
                  eventLink: `https://fb.com/events/${d.id}`,
                  endTime: new Date(d.end_time).toLocaleString('en-US', time),
                  month: date.toLocaleDateString('en-US', optionsMonth),
                  day: date.toLocaleDateString('en-US', optionsDay),
                  desription: d.description,
                  startTime: date.toLocaleString('en-US', time),
                  locationName: 'Location Address:',
                  city: maped.locality,
                  state: maped.administrative_area_level_1,
                  zip: maped.postal_code,
                  street: `${maped.street_number} ${maped.route}`,
                }

              }


            }); console.log(smallData);
            let t = $('template');
            let time = { 'hour': '2-digit', 'minute': '2-digit' };
            let optionsMonth = ([], { 'month': '2-digit' });
            let optionsDay = ([], { 'day': '2-digit' });
            for (let item of smallData) {
              t[0].content.querySelector('#eventLink').href = item.eventLink;
              t[0].content.querySelector('#scroller-title').innerText = item.month + '.' + item.day;
              t[0].content.querySelector('#scroller-subtitle').innerText = item.name;
              t[0].content.querySelector('#locationName').innerText = item.locationName;
              t[0].content.querySelector('#street').innerText = item.street;
              t[0].content.querySelector('#cityStateZip').innerText = item.city + " " + item.state + ", " + item.zip;
              t[0].content.querySelector('#eventTime').innerText = item.startTime + " - " + item.endTime;
              $('#scroller').append(t[0].innerHTML);
            };
            // animation script
            let controller = new ScrollMagic.Controller();
            $('.itemcontainer').each(function () {
              tween = TweenMax.to(this, 1, { className: "-=out-focus", repeat: 1, yoyo: true });
              scene = new ScrollMagic.Scene({
                triggerElement: this,
                duration: this.scrollHeight * 2.5,
                offset: "-150%"
              })
                .setTween(tween)
                // .addIndicators() // uncomment to show indicators for debugging
                .update(true)
                .addTo(controller);
            });
            $('.scroller-text-div').each(function () {
              tween = TweenMax.to(this, 1, { className: "-=out-focus", repeat: 1, yoyo: true });
              scene = new ScrollMagic.Scene({
                triggerElement: this.parentElement,
                duration: this.parentElement.scrollHeight * 2,
                offset: "-150%"
              })
                .setTween(tween)
                //.addIndicators()
                .addTo(controller);
            });
          }
        );
      } init();
    };
    (function (d, s, id) {
      let js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) { return; }
      js = d.createElement(s); js.id = id;
      js.src = "https://connect.facebook.net/en_US/sdk.js";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
  </script>
</body>

</html>